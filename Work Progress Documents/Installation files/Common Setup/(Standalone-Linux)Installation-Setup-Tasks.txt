===============================
Steps To Execute (Server Side) 
===============================

The first thing you need to execute 
before you proceed with the server setup 
is to download the Java 1.8 compressed file
on your windows environment. 

You can download it from here:
https://drive.google.com/file/d/1Fx2HZuFCNfqAwSnfnjJ-jgNI31xszshs/view?usp=share_link

After downloading, copy the compressed file to the server.
You must save it under the user's home directory. 
And then proceed to the server setup procedures. 

Ubuntu Server 18.04 LTS
      https://releases.ubuntu.com/18.04/ubuntu-18.04.6-live-server-amd64.iso

      or  click this link  https://releases.ubuntu.com/18.04/  for more info.
  

===============================
STEPS:
===============================

01. Install MySQL Server

    ** Perform the task file "tasks/4-Setup_MySQL.txt"

02. Install Java 1.8

    $ cd 
    
    $ gunzip jdk-8u281-linux-x64.tar.gz
    
    $ tar -xvf jdk-8u281-linux-x64.tar
    
    $ mv jdk1.8.0_281 jdk8
    
    $ sudo mv jdk8 /opt/
    
    $ cd /opt
    
    $ sudo chown -R root:root jdk8
    
    $ sudo chmod +x jdk8
    
    $ sudo update-alternatives --install "/usr/bin/java" "java" "$(pwd)/jdk8/bin/java" 1
    
    $ sudo update-alternatives --install "/usr/bin/javac" "javac" "$(pwd)/jdk8/bin/javac" 1
    
    $ sudo update-alternatives --install "/usr/bin/jar" "jar" "$(pwd)/jdk8/bin/jar" 1
    
    $ java -version


03. Clone Repository (Municipality)

    3.01 Go to user's home directory 

         $  cd 


    3.02 Start cloning the repo:

        git clone -b {province-municipality}  https://github.com/ramesesinc/etracs255-server-{LGU-Type}.git

        github user:etracslgurepo

04. Configure Repository

    04.01  Unpack the custom template

           $  cd ~/etracs255-server-{LGU-Type}

           $  tar -xvf custom-template.tar.gz


    04.02  Open the file "bin/env.conf" using nano editor 

    04.03  Change the value of the following settings:    

           lgu_name=MUNICIPALITY OF TESTER       

           app_server_ip=192.168.0.26       

           dbserver_host=192.168.0.1
           dbserver_user=root
           dbserver_pass=P@ssw0rd#       

           db_etracs=etracs255_tester


    04.04  Save and close the text editor.


05. Create the etracs main database 

    05.01  Go to the initial folder

           $ cd ~/etracs255-server-{LGU-Type}/_res/_initial


    05.02  Create the etracs main database 

           $ mysql -u root -p -e 'CREATE DATABASE etracs255_tester CHARACTER SET utf8'


06. Restore Initial Databases

    mysql -u root -p -f  <  06-eor.sql

    mysql -u root -p -f -D etracs255_tester  <  01-etracs255-schema.sql
    
    mysql -u root -p -f -D etracs255_tester  <  02-etracs255-data.sql
    
    mysql -u root -p -f  <  03-etracs_notification.sql

    mysql -u root -p -f  <  04-etracs_image.sql
    
    mysql -u root -p -f  <  05-queue.sql

    
07. Open the file "ext/set-{LGU-Type}-data.sql" using nano editor.

08. Modify the data parameters and save the changes.
    Close the text editor to proceed to the next step.

09. Patch the extended script to the etracs main database.

    $ mysql -u root -p -f -D etracs255_tester < ext/set-{LGU-Type}-data.sql
    

10. Run ETRACS Server

    $ cd ~/etracs255-server-{LGU-Type}/bin

    $ sh run.sh 


    NOTES:
    - To run in a background mode, do the following: 

      $ sh run.sh > ~/server.log & 

      $ exit


11. Proceed to Client Installation.
